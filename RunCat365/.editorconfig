root = true

# C# files
[*.cs]
charset = utf-8-bom
indent_style = space
indent_size = 4
insert_final_newline = true
trim_trailing_whitespace = true

################################
# CODE FORMATTING
################################

# Braces always on new line
csharp_preserve_single_line_blocks = false
csharp_preserve_single_line_statements = true
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true
csharp_new_line_before_members_in_object_initializers = true
csharp_new_line_before_members_in_anonymous_types = true
csharp_new_line_between_query_expression_clauses = true
csharp_new_line_between_members_of_anonymous_types = true
csharp_new_line_between_members_of_object_initializers = true
csharp_new_line_within_query_expression_clauses = true

# Indentation
csharp_indent_case_contents = true
csharp_indent_switch_labels = true
csharp_indent_labels = flush_left

# Spacing
csharp_space_after_keywords_in_control_flow_statements = true
csharp_space_between_method_declaration_parameter_list_parentheses = false
csharp_space_between_method_call_parameter_list_parentheses = false
csharp_space_after_comma = true
csharp_space_after_dot = false
csharp_space_after_semicolon_in_for_statement = true
csharp_space_around_binary_operators = before_and_after
csharp_space_after_cast = false

# Parentheses
csharp_space_between_parentheses = false
csharp_space_between_attribute_brackets = false

################################
# CODE STYLE
################################

# var usage (allowed everywhere)
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = true:suggestion

# this. qualification (not required)
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# Using directives
dotnet_sort_system_directives_first = true:error
dotnet_separate_import_directive_groups = true:error
dotnet_remove_unnecessary_usings = true:error

# Null handling
dotnet_style_null_propagation = true:warning
dotnet_style_coalesce_expression = true:warning

# Prefer "is null" over == null
csharp_style_prefer_is_null_check_over_reference_equality_method = true:error

################################
# FILE HEADER
################################
file_header_template = Copyright 2020 Takuto Nakamura\n\n    Licensed under the Apache License, Version 2.0 (the "License")\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.